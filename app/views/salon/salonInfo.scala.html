@(salon:Form[Salon],industry: List[Industry],provinces: List[Province],cities: List[City],regions: List[Region])
@import helper._
@import helper.twitterBootstrap._

@phoneField(field: Field, className: String = "contact") = {
    @input(field, '_label -> Messages("salon.account"), '_class -> className) { (id, name, value, _) =>
        <input type="text" name="@name" value="@value"> 
    }
}

@informationGroup(field: Field, className: String = "profile") = {
    <div class="twipsies well @className">

        @inputText(
            field("contMethodType"), 
            '_label -> Messages("salon.contMethmodType")
        )
        
        <div class="phones">

            @repeat(field("accounts"), min = 0) { accounts =>
                
                @phoneField(accounts)
    
            }        
        </div>

    </div>
}

@main("salonInfo"){

<div class="basicInformation-content">
	<div class="basicInformation">
		<h2>@Messages("salon.title")</h2>

		@helper.form(action = routes.SalonInfo.update(salon.get.id), args = 'id -> "salonForm"){
		 <fieldset >
		 	@inputText(salon("salonAccount.accountId"),'_label -> "注册ID", 'readonly -> "true" )
		 	@inputText(salon("salonAccount.password"),'_label -> "密码", 'readonly -> "true" ) 		 	   		          
            @inputText(salon("salonName"),'_label ->  Messages("salon.Name"))           
            @inputText(salon("salonNameAbbr"),'_label -> Messages("salon.Abbr"))			
			
			@input(field = salon("salonIndustry"),args = '_label -> Messages("salon.type")){(id,name,value,args) =>
			 	@for(i <- 0 to industry.length-1){
			 		@if(salon.get.salonIndustry.contains(industry(i).industryName)){
			 			<input type = "checkbox" class="" name = "salonIndustry[@i]", value = "@industry(i).industryName" checked="checked">@Messages(industry(i).industryName)
			 		}else{
			 			<input type = "checkbox" class="" name = "salonIndustry[@i]", value = "@industry(i).industryName">@Messages(industry(i).industryName)			 			
			 		}
			 	}
			  }
					
		 	@inputText(salon("homepage"), '_label -> Messages("salon.homepage"))			
			@inputText(salon("salonDescription"), '_label -> Messages("salon.description"))
			@inputText(salon("mainPhone"), '_label -> Messages("salon.mainPhone"))
			@inputText(salon("contact"), '_label -> Messages("salon.contact"))
			<div id="profiles">           
                @repeat(salon("optContactMethod")) { optContactMethod =>                
                    @informationGroup(optContactMethod)
                
                }                               
            </div>
			@inputDate(salon("establishDate"), '_label -> Messages("salon.establishDate"))			
			<lable>@Messages("salon.address")</lable>
			<br>
			<select name="salonAddress.province">
     	    @for(i <- 0 to provinces.length-1){				
       				@provinces.map{province=>
        			<option value="@province.provinceName">@Messages("province.provinceName."+province.provinceName)</option>
       			}
    		</select>
     		}
     					       		 				
			<select name="salonAddress.city">
     	    @for(i <- 0 to cities.length-1){				
       				@cities.map{cities=>
        			<option value="@cities.cityName">@Messages("city.cityName."+cities.cityName)</option>
       			}
    		</select>
    		}
    		
			<select name="salonAddress.region">
     	    @for(i <- 0 to regions.length-1){				
        			<option value="@regions(i).regionName">@Messages("region.regionName."+regions(i).regionName)</option>
       			}
    		</select>
			@inputText(salon("salonAddress.town"), '_label -> Messages("salon.town"))
			@inputText(salon("salonAddress.addrDetail"), '_label -> Messages("salon.addrDetail"))
			@inputText(salon("salonAddress.longitude"), '_label -> Messages("salon.longitude"))
			@inputText(salon("salonAddress.latitude"), '_label -> Messages("salon.latitude"))		
			@inputText(salon("accessMethodDesc"), '_label -> Messages("salon.accessMethod"))
			@inputText(salon("workTime.openTime"), '_label -> Messages("salon.openTime"))
			@inputText(salon("workTime.closeTime"), '_label -> Messages("salon.closeTime"))
			@inputText(salon("restDay(0).restDay"), '_label -> Messages("salon.restDay"))	
			@inputText(salon("seatNums"), '_label -> Messages("salon.seatNums"))	
			@checkbox(salon("salonFacilities.canOnlineOrder"), '_label -> Messages("salon.canOnlineOrder"))
			@checkbox(salon("salonFacilities.canImmediatelyOrder"), '_label -> Messages("salon.canImmediatelyOrder"))
			@checkbox(salon("salonFacilities.canNominateOrder"), '_label -> Messages("salon.canNominateOrder"))
			@checkbox(salon("salonFacilities.canCurntDayOrder"), '_label -> Messages("salon.canCurntDayOrder"))
			@checkbox(salon("salonFacilities.canMaleUse"), '_label -> Messages("salon.canMaleUse"))
			@checkbox(salon("salonFacilities.isPointAvailable"), '_label -> Messages("salon.isPointAvailable"))
			@checkbox(salon("salonFacilities.isPosAvailable"), '_label -> Messages("salon.isPosAvailable"))
			@checkbox(salon("salonFacilities.isWifiAvailable"), '_label -> Messages("salon.isWifiAvailable"))
			@checkbox(salon("salonFacilities.hasParkingNearby"), '_label -> Messages("salon.hasParkingNearby"))
			@inputText(salon("salonFacilities.parkingDesc"), '_label -> Messages("salon.parkingDesc"))
			@inputText(salon("salonPictures"), '_label -> Messages("salon.pictures"))
			@inputDate(salon("registerDate"), '_label -> Messages("salon.registerTime"))	
		  </fieldset>            
            <input type = "submit" class = "buttons" value=@Messages("common.submit")>
			<input type="reset" value=@Messages("common.reset")><a href = "/  "><input type="button" value=@Messages("common.backUp") ></a>                     
		}
		</div>
</div>

}
