@(stylistForm: Form[StylistApply], user: User, goodAtStylePara: GoodAtStyle,followInfo:FollowInformation )
@import helper._

@myPageMain(navInMyPage = "my-reservation",user, followInfo, user.id, true){
	
	<div class="container">

    <div class="content">

      <div class="page-header">
        <h1>@Messages("user.applyStylist")</h1>
      </div>

      <div class="row">
        <div class="span14">
          	@form(auth.routes.Users.commitStylistApply(), 'id -> "userForm"){
		
       		@inputText(stylistForm("stylist.label"), '_label -> Messages("stylist.name"), '_default ->user.nickName)
			
			@inputText(stylistForm("stylist.workYears"), '_label -> Messages("stylist.workYears"), 'class ->  "font1")

			
			@inputText(stylistForm("salonAccountId"), '_label -> Messages("salonAccountId"), 'class ->  "font1")
			
			
				<div id="optContactMethods">
				@repeat(stylistForm("position")){position=>
					@stylistPosition(position)
				}
				@**
	                 * Keep an hidden block that will be used as template for Javascript copy code
	                 **@
	                @stylistPosition(
	                    stylistForm("position[x]"),
	                    className = "optContactMethod_template"
	                )
	                
	                <div class="manage">
	                    <a class="addOptContactMethod btn success">@Messages("addPositionAndIndusty")</a>
	                </div>
	            
	            </div>
            
			
			@input(field = stylistForm("stylist.goodAtImage"),args = '_label ->Messages("stylist.goodAtImage")){(id,name,value,args) =>
			 	@for(i <- 0 to goodAtStylePara.goodAtImage.length-1){
			 		<input type = "checkbox" name = "goodAtImage[@i]" value = "@goodAtStylePara.goodAtImage(i)">@Messages("style.styleImpression."+goodAtStylePara.goodAtImage(i))&nbsp;
			 	}
			  }
			  
			@input(field = stylistForm("stylist.goodAtStatus"),args = '_label ->Messages("stylist.goodAtStatus")){(id,name,value,args) =>
			 	@for(i <- 0 to goodAtStylePara.goodAtStatus.length-1){
			 		<input type = "checkbox" name = "goodAtStatus[@i]" value = "@goodAtStylePara.goodAtStatus(i)">@Messages("style.socialStatus."+goodAtStylePara.goodAtStatus(i))
			 	}
			  }
			  
			@input(field = stylistForm("stylist.goodAtService"),args = '_label ->Messages("stylist.goodAtService")){(id,name,value,args) =>
			 	@for(i <- 0 to goodAtStylePara.goodAtService.length-1){
			 		<input type = "checkbox" name = "stylist.goodAtService[@i]" value = "@goodAtStylePara.goodAtService(i)">@Messages(goodAtStylePara.goodAtService(i))
			 		@if((i+1)%6==0){
			 			<br />
			 		}
			 	}
			  }
			  
			@input(field = stylistForm("stylist.goodAtUser"),args = '_label ->Messages("stylist.goodAtUser")){(id,name,value,args) =>
			 	@for(i <- 0 to goodAtStylePara.goodAtUser.length-1){
			 		<input type = "checkbox" name = "stylist.goodAtUser[@i]" value = "@goodAtStylePara.goodAtUser(i)">@Messages("style.sex." +goodAtStylePara.goodAtUser(i))
			 	}
			  }  
			
			@input(field = stylistForm("stylist.goodAtAgeGroup"),args = '_label ->Messages("stylist.goodAtAgeGroup")){(id,name,value,args) =>
			 	@for(i <- 0 to goodAtStylePara.goodAtAgeGroup.length-1){
			 		<input type = "checkbox" name = "stylist.goodAtAgeGroup[@i]" value = "@goodAtStylePara.goodAtAgeGroup(i)">@Messages("style.ageGroup." +goodAtStylePara.goodAtAgeGroup(i))
			 	}
			  }
			
			@textarea(field = stylistForm("stylist.myWords"),'rows -> 4, 'cols -> 40, '_label -> Messages("stylist.myWords"))
			
			@textarea(field = stylistForm("stylist.mySpecial"),'rows -> 4, 'cols -> 40, '_label -> Messages("stylist.mySpecial"))
			            
            @textarea(field = stylistForm("stylist.myBoom"),'rows -> 4, 'cols -> 40, '_label -> Messages("stylist.myBoom"))
 		
		  	@textarea(field = stylistForm("stylist.myPR"),'rows -> 4, 'cols -> 40, '_label -> Messages("stylist.myPR"))
		  	
		<input type="submit" class = "buttons" value="@Messages("stylist.submit")">
            
        <input type = "reset" class = "buttons" value="@Messages("stylist.reset")">
        </div>
      </div>

    </div>
  </div>
	}
}

@stylistPosition(field: Field, className: String = "optContactMethod") ={
	<div class="twipsies well @className">
		<a class="removeOptContactMethod btn danger pull-right">@Messages("removePositionAndIndusty")</a>
		<div class="industry">
        @select(
                field("industryName"), 
                options = options(goodAtStylePara.industry),
                '_default -> Messages("ChooseIndustry"),
                '_label -> Messages("industy")
                
            )
        &nbsp;&nbsp;
        @select(
                field("positionName"), 
                options = options(goodAtStylePara.position),
                '_default -> Messages("ChoosePosition"),
                '_label -> Messages("positionName")
                
            )
        </div>
        <div></div>    
 	</div>
}
<script type="text/javascript" charset="utf-8">
        
        $('.removeOptContactMethod').live('click', function(e) {
            $(this).parents('.optContactMethod').remove()
            renumber()
        })
        
        $('.addOptContactMethod').live('click', function(e) {
            var template = $('.optContactMethod_template')
            template.before('<div class="twipsies well optContactMethod">' + template.html() + '</div>')
            renumber()
        })
       
        var renumber = function(accounts) {
            $('.optContactMethod').each(function(i) {
                $('select', this).each(function() {
                    $(this).attr('name', $(this).attr('name').replace(/position\[.+?\]/g, 'position[' + i + ']'))
                })
                
            })
        }
        
</script>
